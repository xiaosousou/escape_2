window.__require=function e(t,s,n){function i(a,c){if(!s[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}}var d=s[a]={exports:{}};t[a][0].call(d.exports,function(e){return i(t[a][1][e]||e)},d,d.exports,e,t,s,n)}return s[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({BackgroundMove:[function(e,t,s){"use strict";cc._RF.push(t,"7b9b2sfRElBX7T9qyDzCDFd","BackgroundMove"),cc.Class({extends:cc.Component,properties:{Mount:cc.Node,Snow:cc.Node,Ground:cc.Node},start:function(){},update:function(e){this.Mount.x-=G.groundspeed*e*.3,this.Snow.x-=G.groundspeed*e*.7,this.Ground.x-=G.groundspeed*e,this.Mount.x<=-this.Mount.width&&(this.Mount.x=0),this.Snow.x<=-this.Snow.width&&(this.Snow.x=0),this.Ground.x<=-this.Ground.width&&(this.Ground.x=0)}}),cc._RF.pop()},{}],CarMove:[function(e,t,s){"use strict";cc._RF.push(t,"9a3005ESGpAfqvU9xRnNxkW","CarMove"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.Player=cc.find("Canvas/Hierarchy/Center/Player"),this.dot=this.node.children[0],this.speed=0;this.node.on(cc.Node.EventType.TOUCH_START,this.touchstart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchmove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchend,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchend,this)},touchstart:function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation());Math.abs(t.y)<90?this.dot.setPosition(cc.v2(0,t.y)):t.y>0?this.dot.setPosition(cc.v2(0,90)):this.dot.setPosition(cc.v2(0,-90))},touchmove:function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation());Math.abs(t.y)<90?this.dot.setPosition(cc.v2(0,t.y)):t.y>0?this.dot.setPosition(cc.v2(0,90)):this.dot.setPosition(cc.v2(0,-90))},touchend:function(){},update:function(e){Math.abs(this.dot.y-this.Player.y)<5||(this.Player.y<this.dot.y?this.Player.y+=G.carmovespeed*e:this.Player.y>this.dot.y&&(this.Player.y-=G.carmovespeed*e))}}),cc._RF.pop()},{}],Enemy:[function(e,t,s){"use strict";cc._RF.push(t,"2f885m/bD1Iw6ZTDG2LghLy","Enemy"),cc.Class({extends:cc.Component,properties:{},init:function(e,t,s,n){this.speed=e,this.Yspeed=t,this.blood=s,this.Injuredpres=n},onLoad:function(){this.Canvas=cc.find("Canvas"),this.Player=cc.find("Canvas/Hierarchy/Center/Player"),this.nodeBox=this.node.getComponent(cc.BoxCollider),this.die=!1,this.playcar=!1,this.timer=0,this.ranx=20*Math.random(),this.rany=2*(Math.random()-.5)*20},onCollisionEnter:function(e,t){if(!this.die&&!G.gameover)return 1==e.tag&&1==t.tag&&"car"==e.node.group?(this.node.getComponent(cc.Animation).play("enemy0_play"),this.Player.children[0].getComponent("Player").Blood-=1,this.playcar=!0,void(this.timer=0)):void 0},onCollisionExit:function(e,t){this.die||G.gameover||1==e.tag&&1==t.tag&&"car"==e.node.group&&(this.node.getComponent(cc.Animation).play("enemy0_run"),this.playcar=!1,this.timer=0)},Injured:function(e){var t=Math.random()>.5?0:1,s=cc.instantiate(this.Injuredpres[t]);s.x=this.node.x-this.node.width/2,s.y=this.node.y-this.node.height/6,s.parent=this.node.parent,this.blood-=e},update:function(e){if(!this.die&&!G.gameover){var t=cc.v2(this.Player.x-this.Player.width*this.Player.scaleX/2-this.ranx,this.Player.y-this.Player.height/2*this.Player.scaleY+this.rany),s=cc.v2(this.node.x,this.node.y-this.nodeBox.size.height/1.5*this.node.scaleY),n=t.sub(s);n.normalizeSelf(),Math.abs(t.x-s.x)>5&&(this.node.x+=n.x*this.speed*e),Math.abs(t.y-s.y)>5&&(this.node.y+=n.y*this.Yspeed*e),this.blood<=0&&this.enemyover(),this.playcar&&(this.timer+=e,this.timer>1&&(this.Player.children[0].getComponent("Player").Blood-=1,this.timer=0))}},enemyover:function(){this.node.getComponent(cc.Animation).play("enemy_die"),this.die=!0,this.node.scaleX=-1.3},die1:function(){this.node.scaleX=1.3,this.node.getComponent(cc.Animation).play("enemy0_run"),G.enemyPool.put(this.node)}}),cc._RF.pop()},{}],Main:[function(e,t,s){"use strict";cc._RF.push(t,"9574c1aO+ZJnp1nmwZ/AoP3","Main"),window.G={main:null,carmovespeed:200,groundspeed:1e3,addspeed:3,addenemyspeed:3,enemyspeed:90,enemyYspeed:90,enemyPool:null,gameover:!1},cc.Class({extends:cc.Component,properties:{gunJson:{default:null,type:cc.JsonAsset}},onLoad:function(){G.main=this,G.gameover=!1,cc.sys.localStorage.getItem("carmovespeed")?G.carmovespeed=cc.sys.localStorage.getItem("carmovespeed"):cc.sys.localStorage.setItem("carmovespeed",200),cc.sys.localStorage.getItem("addspeed")?G.addspeed=cc.sys.localStorage.getItem("addspeed"):cc.sys.localStorage.setItem("addspeed",3),cc.sys.localStorage.getItem("addenemyspeed")?G.addenemyspeed=cc.sys.localStorage.getItem("addenemyspeed"):cc.sys.localStorage.setItem("addenemyspeed",3),cc.sys.localStorage.getItem("enemyspeed")?G.enemyspeed=cc.sys.localStorage.getItem("enemyspeed"):cc.sys.localStorage.setItem("enemyspeed",90),cc.sys.localStorage.getItem("enemyYspeed")?G.enemyYspeed=cc.sys.localStorage.getItem("enemyYspeed"):cc.sys.localStorage.setItem("enemyYspeed",90),this.armssdata=JSON.parse(cc.sys.localStorage.getItem("car_"+S.carid+"armss")),this.gunlvnum=JSON.parse(cc.sys.localStorage.getItem("gunlvnum")),this.armssjson=this.gunJson.json.arms,this.timer=0,this.enemytimer=0,this.loadnum=0,this.HierarchyCenter=cc.find("Canvas/Hierarchy/Center"),this.setting=cc.find("Canvas/Settingpop"),this.Canvas=cc.find("Canvas"),this.gameovertop=cc.find("Canvas/gameover"),this.main_img=cc.find("Canvas/UI/DownUI/GunBackground/Main"),this.vice_img=cc.find("Canvas/UI/DownUI/GunBackground/Vice"),this.skill_img=cc.find("Canvas/UI/DownUI/GunBackground/Skill"),cc.director.getCollisionManager().enabled=!0;var e=this;cc.loader.loadResDir("Roadblock",function(t,s,n){for(var i=0;i<s.length-1;i++)for(var o=0;o<s.length-1-i;o++){if(s[o].name.charAt(s[o].name.length-1)>s[o+1].name.charAt(s[o+1].name.length-1)){var a=s[o];s[o]=s[o+1],s[o+1]=a}}console.log("1",s,s[0].name.charAt(s[0].name.length-1)),e.RoadblockList=s,e.loadnum++}),cc.loader.loadResDir("enemy_Injured",function(t,s,n){e.enemy_Injured=s,console.log("2",s),e.loadnum++}),cc.loader.loadResDir("Enemy",function(t,s,n){e.EnemyList=s;for(var i=0;i<s.length-1;i++)for(var o=0;o<s.length-1-i;o++){if(s[o].name.charAt(s[o].name.length-1)>s[o+1].name.charAt(s[o+1].name.length-1)){var a=s[o];s[o]=s[o+1],s[o+1]=a}}e.enemyPool=new cc.NodePool;for(var c=0;c<100;++c){var r=cc.instantiate(e.EnemyList[0]);e.enemyPool.put(r)}G.enemyPool=e.enemyPool,console.log("3",s),e.loadnum++}),cc.loader.loadResDir("Gunpre",function(t,s,n){e.Gunprelist=s;for(var i=0;i<s.length-1;i++)for(var o=0;o<s.length-1-i;o++){if(s[o].name.charAt(s[o].name.length-1)>s[o+1].name.charAt(s[o+1].name.length-1)){var a=s[o];s[o]=s[o+1],s[o+1]=a}}e.setgunimg(),console.log("4",s),e.loadnum++})},addobstacle:function(){var e=Math.floor(Math.random()*this.RoadblockList.length);if("obstacle_0"==this.RoadblockList[e].name){var t=cc.instantiate(this.RoadblockList[e]),s=Math.random()>.5?37:-76;t.parent=this.HierarchyCenter,t.setPosition(cc.v2(this.Canvas.width/2+t.width,s))}else{t=cc.instantiate(this.RoadblockList[e]);var n=cc.instantiate(this.RoadblockList[e]);if(t.parent=this.HierarchyCenter,n.parent=this.HierarchyCenter,0==(s=Math.random()>.3?77:Math.random()>.5?-85:0))var i=Math.random()>.5?77:-85;else i=0;t.setPosition(cc.v2(this.Canvas.width/2+t.width,s)),n.setPosition(cc.v2(this.Canvas.width/2+t.width,i))}},addenemy:function(){cc.log("\u6dfb\u52a0\u50f5\u5c38");var e=null;(e=G.enemyPool.size()>0?G.enemyPool.get():cc.instantiate(this.EnemyList[0])).parent=this.HierarchyCenter;var t=Math.floor(191*Math.random()-100);e.getComponent("Enemy").onLoad(),e.getComponent("Enemy").init(G.enemyspeed,G.enemyYspeed,2,this.enemy_Injured),e.setPosition(cc.v2(-this.Canvas.width/2-e.width-20*Math.random(),t))},showsetting:function(){this.setting.active=!0},update:function(e){G.gameover||(this.loadnum<4?cc.log("\u8d44\u6e90\u5c0f\u4e8e4"):(this.timer+=e,this.enemytimer+=e,this.timer>=G.addspeed&&(this.addobstacle(),this.timer=0),this.enemytimer>=G.addenemyspeed&&(this.addenemy(),this.enemytimer=0)))},setgunimg:function(){for(var e in this.armssdata){var t;if("main"==e)(t=cc.instantiate(this.Gunprelist[this.armssdata[e]])).parent=this.main_img,t.getComponent("gundata").init("main",this.armssjson[this.armssdata[e]].lv[this.gunlvnum[this.armssdata[e]]-1]);if("vice"==e)(t=cc.instantiate(this.Gunprelist[this.armssdata[e]])).parent=this.vice_img,t.getComponent("gundata").init("vice",this.armssjson[this.armssdata[e]].lv[this.gunlvnum[this.armssdata[e]]-1])}},backshop:function(){cc.director.loadScene("Shop")},restart:function(){cc.director.loadScene("Game")},gameover:function(){G.gameover=!0,this.gameovertop.active=!0}}),cc._RF.pop()},{}],Player:[function(e,t,s){"use strict";cc._RF.push(t,"2e75di2YAhOjalFvxVd288q","Player"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.Blood=100,this.BloodStrip=cc.find("Canvas/UI/DownUI/Blood strip")},start:function(){},update:function(e){G.gameover||(this.node.y=0,this.BloodStrip.getComponent(cc.ProgressBar).progress=this.Blood/100,this.Blood<=0&&G.main.gameover())}}),cc._RF.pop()},{}],SSetting:[function(e,t,s){"use strict";cc._RF.push(t,"22c09N5RgpCDqMenalOPijZ","SSetting"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Setting:[function(e,t,s){"use strict";cc._RF.push(t,"cc8fazleFBM6481S+jkmzOL","Setting"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.HierarchyCenter=cc.find("Canvas/Hierarchy/Center"),this.speed=this.node.children[1].getComponent(cc.EditBox),this.addtime=this.node.children[2].getComponent(cc.EditBox),this.enemyspeed=this.node.children[3].getComponent(cc.EditBox),this.enemyYspeed=this.node.children[4].getComponent(cc.EditBox),this.addenemyspeed=this.node.children[5].getComponent(cc.EditBox),this.speed.string=cc.sys.localStorage.getItem("carmovespeed"),this.addtime.string=cc.sys.localStorage.getItem("addspeed"),this.enemyspeed.string=cc.sys.localStorage.getItem("enemyspeed"),this.enemyYspeed.string=cc.sys.localStorage.getItem("enemyYspeed"),this.addenemyspeed.string=cc.sys.localStorage.getItem("addenemyspeed")},savedata:function(){cc.sys.localStorage.setItem("carmovespeed",this.speed.string),cc.sys.localStorage.setItem("addspeed",this.addtime.string),cc.sys.localStorage.setItem("enemyspeed",this.enemyspeed.string),cc.sys.localStorage.setItem("enemyYspeed",this.enemyYspeed.string),cc.sys.localStorage.setItem("addenemyspeed",this.addenemyspeed.string),G.addspeed=cc.sys.localStorage.getItem("addspeed"),G.carmovespeed=cc.sys.localStorage.getItem("carmovespeed"),G.enemyspeed=cc.sys.localStorage.getItem("enemyspeed"),G.enemyYspeed=cc.sys.localStorage.getItem("enemyYspeed"),G.addenemyspeed=cc.sys.localStorage.getItem("addenemyspeed"),this.clearenemy()},resetdata:function(){cc.sys.localStorage.setItem("carmovespeed",200),cc.sys.localStorage.setItem("addspeed",4),cc.sys.localStorage.setItem("enemyspeed",450),cc.sys.localStorage.setItem("enemyYspeed",90),cc.sys.localStorage.setItem("addenemyspeed",1),this.speed.string=cc.sys.localStorage.getItem("carmovespeed"),this.addtime.string=cc.sys.localStorage.getItem("addspeed"),this.enemyspeed.string=cc.sys.localStorage.getItem("enemyspeed"),this.enemyYspeed.string=cc.sys.localStorage.getItem("enemyYspeed"),this.addenemyspeed.string=cc.sys.localStorage.getItem("addenemyspeed"),this.savedata()},clearenemy:function(){for(var e in this.HierarchyCenter.children)"Player"!=this.HierarchyCenter.children[e].name&&this.HierarchyCenter.children[e].destroy();G.main.timer=0,G.main.enemytimer=0},hidden:function(){this.node.active=!1}}),cc._RF.pop()},{}],Shop:[function(e,t,s){"use strict";cc._RF.push(t,"80189uFqmdKa68GE16uUHpk","Shop"),window.S={shop:null,carid:0},cc.Class({extends:cc.Component,properties:{gunJson:{default:null,type:cc.JsonAsset},weaponpre:cc.Prefab},onLoad:function(){if(S.shop=this,this.popupstate=-1,this.carviewstate=0,this.mainweapon=cc.find("Canvas/popup"),this.viceweapon=cc.find("Canvas/popup1"),this.skillpop=cc.find("Canvas/popup2"),this.main_img=cc.find("Canvas/Button/GunButton/Gun").children[0].getComponent(cc.Sprite),this.vice_img=cc.find("Canvas/Button/GunButton/Gun1").children[0].getComponent(cc.Sprite),this.skill_img=cc.find("Canvas/Button/GunButton/Skill").children[0].getComponent(cc.Sprite),this.carview=cc.find("Canvas/CarView"),this.settingui=cc.find("Canvas/SettingUI"),this.carid=this.carview.getComponent(cc.PageView).getCurrentPageIndex(),S.carid=this.carid,cc.sys.localStorage.getItem("car_"+this.carid+"armss")?this.armssdata=JSON.parse(cc.sys.localStorage.getItem("car_"+this.carid+"armss")):(this.armssdata={main:1,vice:0,skill:0},cc.sys.localStorage.setItem("car_"+this.carid+"armss",JSON.stringify(this.armssdata))),cc.sys.localStorage.getItem("gunbuystate"))this.gunbuystate=JSON.parse(cc.sys.localStorage.getItem("gunbuystate")),this.gunlvnum=JSON.parse(cc.sys.localStorage.getItem("gunlvnum"));else{this.gunbuystate={},this.gunlvnum={};var e=this.gunJson.json.arms;for(var t in e)this.gunbuystate[t]=e[t].buy,this.gunlvnum[t]=1;cc.sys.localStorage.setItem("gunbuystate",JSON.stringify(this.gunbuystate)),cc.sys.localStorage.setItem("gunlvnum",JSON.stringify(this.gunlvnum))}var s=this;cc.loader.loadRes("Gunimg/Gun",cc.SpriteAtlas,function(e,t){s.gunatlas=t,s.initarms(),s.initgunimg()}),cc.director.preloadScene("Game",function(){cc.log("\u52a0\u8f7d\u5b8c\u6210")}),cc.log("\u8d2d\u4e70\u72b6\u6001",JSON.parse(cc.sys.localStorage.getItem("gunbuystate")),"\u7b49\u7ea7",JSON.parse(cc.sys.localStorage.getItem("gunlvnum")),"\u88c5\u5907\u7684\u6b66\u5668",JSON.parse(cc.sys.localStorage.getItem("car_"+this.carid+"armss")))},initarms:function(){var e=this.gunJson.json.arms;for(var t in e){var s;if(void 0===this.gunbuystate[t]&&(cc.log("\u5224\u65adthis.gunbuystate\u662f\u7a7a2"),this.gunbuystate[t]=e[t].buy,this.gunlvnum[t]=1),"main"==e[t].qualities)(s=cc.instantiate(this.weaponpre)).getComponent("weapon").init(this.gunatlas,e[t],this.gunlvnum[t]),"yes"==this.gunbuystate[t]&&(s.getChildByName("lock").active=!1),s.parent=this.mainweapon.getChildByName("weaponview").getComponent(cc.ScrollView).content;if("vice"==e[t].qualities)(s=cc.instantiate(this.weaponpre)).getComponent("weapon").init(this.gunatlas,e[t],this.gunlvnum[t]),"yes"==this.gunbuystate[t]&&(s.getChildByName("lock").active=!1),s.parent=this.viceweapon.getChildByName("weaponview").getComponent(cc.ScrollView).content}},initgunimg:function(){for(var e in this.armssdata)"main"==e&&(this.main_img.spriteFrame=this.gunatlas.getSpriteFrame(this.armssdata[e])),"vice"==e&&(this.vice_img=this.gunatlas.getSpriteFrame(this.armssdata[e]))},clearjson:function(){cc.sys.localStorage.clear(),cc.director.loadScene("Shop")},savejson:function(){cc.sys.localStorage.setItem("gunbuystate",JSON.stringify(this.gunbuystate)),cc.sys.localStorage.setItem("gunlvnum",JSON.stringify(this.gunlvnum)),cc.sys.localStorage.setItem("car_"+this.carid+"armss",JSON.stringify(this.armssdata)),this.initgunimg()},playingame:function(){cc.director.loadScene("Game")},showsetting:function(){this.settingui.active=!0;var e=cc.moveTo(.3,0,0);this.settingui.runAction(e)},hidesetting:function(){var e=cc.callFunc(function(){this.settingui.active=!1},this),t=cc.sequence(cc.moveTo(.3,0,832),e);this.settingui.runAction(t)},carinmove:function(){if(0==this.carviewstate){var e=cc.moveTo(.3,-293,0);this.carview.runAction(e),this.carviewstate=1}},caroutmove:function(){if(1==this.carviewstate){var e=cc.moveTo(.3,0,0);this.carview.runAction(e),this.carviewstate=0}},showmainweapon:function(){if(0!=this.popupstate){1==this.popupstate&&this.hiddenviceweapon(),2==this.popupstate&&this.hiddenskillpop(),this.mainweapon.active=!0;var e=cc.moveTo(.3,597,31);this.mainweapon.runAction(e),this.carinmove(),this.popupstate=0}},hiddenmainweapon:function(){var e=cc.callFunc(function(){this.mainweapon.active=!1},this),t=cc.sequence(cc.moveTo(.3,1682,31),e);this.mainweapon.runAction(t),this.popupstate=-1},showviceweapon:function(){if(1!=this.popupstate){0==this.popupstate&&this.hiddenmainweapon(),2==this.popupstate&&this.hiddenskillpop(),this.viceweapon.active=!0;var e=cc.moveTo(.3,597,31);this.viceweapon.runAction(e),this.carinmove(),this.popupstate=1}},hiddenviceweapon:function(){var e=cc.callFunc(function(){this.viceweapon.active=!1},this),t=cc.sequence(cc.moveTo(.3,1682,31),e);this.viceweapon.runAction(t),this.popupstate=-1},showskillpop:function(){if(2!=this.popupstate){0==this.popupstate&&this.hiddenmainweapon(),1==this.popupstate&&this.hiddenviceweapon(),this.skillpop.active=!0;var e=cc.moveTo(.3,597,31);this.skillpop.runAction(e),this.carinmove(),this.popupstate=2}},hiddenskillpop:function(){var e=cc.callFunc(function(){this.skillpop.active=!1},this),t=cc.sequence(cc.moveTo(.3,1682,31),e);this.skillpop.runAction(t),this.popupstate=-1}}),cc._RF.pop()},{}],arms0:[function(e,t,s){"use strict";cc._RF.push(t,"0185f6HbzxA1b2xkQNNg1Ut","arms0"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.Player=cc.find("Canvas/Hierarchy/Center/Player").children[0],this.HierarchyCenter=cc.find("Canvas/Hierarchy/Center"),this.bulletnum0=cc.find("Canvas/LabelUI/bullet0Label").getComponent(cc.Label),this.bulletnum1=cc.find("Canvas/LabelUI/bullet1Label").getComponent(cc.Label),this.shootstart=!1,this.timer=0;var e=this;cc.loader.loadRes("Bullet/Bullet",function(t,s){e.Bullet=s}),e.node.on(cc.Node.EventType.TOUCH_START,e.touchstart,e),e.node.on(cc.Node.EventType.TOUCH_END,e.touchend,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e.touchend,e)},start:function(){this.gundata=this.node.getComponent("gundata").gundata,this.guntype=this.node.getComponent("gundata").type,this.bulletmaxnum=this.gundata.bullet,this.nowbulletnum=this.gundata.bullet,this.bulletnumtimer=this.gundata.bullettimer,this.timer1=0},Shooting:function(){if(0!=this.nowbulletnum){this.nowbulletnum--;var e=cc.instantiate(this.Bullet);e.parent=this.HierarchyCenter,e.getComponent("bullet1").init(this.gundata.power),e.setPosition(this.HierarchyCenter.convertToNodeSpaceAR(this.Player.convertToWorldSpaceAR(this.Player.getChildByName("Bullet"))))}},touchstart:function(){this.shootstart=!0,this.timer=0,this.Shooting()},touchend:function(){this.shootstart=!1,this.timer=0},update:function(e){0==this.nowbulletnum&&(this.timer1+=e,this.timer1>this.bulletnumtimer&&(this.timer1=0,this.nowbulletnum=this.bulletmaxnum)),"main"==this.guntype?this.bulletnum1.string=this.nowbulletnum:"vice"==this.guntype&&(this.bulletnum0.string=this.nowbulletnum),this.shootstart&&(this.timer+=e,this.timer>=this.gundata.speed&&(this.Shooting(),this.timer=0))}}),cc._RF.pop()},{}],bullet1:[function(e,t,s){"use strict";cc._RF.push(t,"2d224ngsudFgq9cIEeVUZDC","bullet1"),cc.Class({extends:cc.Component,properties:{},init:function(e){this.power=e},onLoad:function(){this.Canvas=cc.find("Canvas"),this.collisionnum=0},onCollisionEnter:function(e,t){0==this.collisionnum&&2==e.tag&&"enemy"==e.node.group&&(this.collisionnum++,e.node.getComponent("Enemy").Injured(this.power),e.node.x-=50,t.node.destroy())},update:function(e){this.node.x-=5e3*e,this.node.x<-this.Canvas.width/3-this.node.width&&(this.node.destroy(),cc.log("\u6d88\u5931"))}}),cc._RF.pop()},{}],enemyblood:[function(e,t,s){"use strict";cc._RF.push(t,"cf741tKJY1Aor03Nzv07o1I","enemyblood"),cc.Class({extends:cc.Component,properties:{},die1:function(){this.start=!0,this.timer=0},update:function(e){this.start&&(this.node.x-=800*e,this.timer+=e,this.timer>2&&this.node.destroy())}}),cc._RF.pop()},{}],gundata:[function(e,t,s){"use strict";cc._RF.push(t,"2052bgE1FhE65+FJsIzC9da","gundata"),cc.Class({extends:cc.Component,properties:{},init:function(e,t){this.gundata=t,this.type=e}}),cc._RF.pop()},{}],obstacle:[function(e,t,s){"use strict";cc._RF.push(t,"2d928PdFSJHvrfkNl8Fibq2","obstacle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.Canvas=cc.find("Canvas"),this.Player=cc.find("Canvas/Hierarchy/Center/Player").children[0],this.timer=0},onCollisionEnter:function(e,t){if(!this.die)return 1==e.tag&&"car"==e.node.group?(this.die=!0,this.die1(),void(this.Player.getComponent("Player").Blood-=2)):void(1==e.tag&&"enemy"==e.node.group&&e.node.getComponent("Enemy").Injured(10))},die1:function(){this.node.getComponent(cc.PolygonCollider).tag=1;var e=[cc.v2(1e3,200),cc.v2(1e3,400),cc.v2(2e3,0)],t=cc.bezierTo(.5,e);this.node.runAction(t)},update:function(e){if(this.die)return this.timer+=e,void(this.timer>=2&&(cc.log("\u98de\u51fa\u6d88\u5931"),this.node.destroy()));this.node.x-=800*e,this.node.x<-this.Canvas.width/2-this.node.width&&this.node.destroy()}}),cc._RF.pop()},{}],setzIndex:[function(e,t,s){"use strict";cc._RF.push(t,"b46c5LBX9FLjb6LjfdIhCi4","setzIndex"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},update:function(e){var t=(this.node.y-this.node.height/2)*this.node.scaleY;this.node.zIndex=Math.round(-t/10)}}),cc._RF.pop()},{}],test:[function(e,t,s){"use strict";cc._RF.push(t,"a08132/ArZK2ZO6xS3xi//Q","test"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],weapon:[function(e,t,s){"use strict";cc._RF.push(t,"dfe06Mcu/5N+73mTLt95vDm","weapon"),cc.Class({extends:cc.Component,properties:{},init:function(e,t,s){this.gunatlas=e,this.gundata=t,this.lvgundata=t.lv[s-1],this.lv=s,cc.log(this.gundata,this.lv,this.lvgundata)},onLoad:function(){this.img=this.node.children[0].getComponent(cc.Sprite),this.bulletnum=this.node.children[1].getComponent(cc.Label),this.speedprogress=this.node.children[2].getComponent(cc.ProgressBar),this.speedprogress1=this.node.children[2].children[0].getComponent(cc.ProgressBar),this.powerprogress=this.node.children[3].getComponent(cc.ProgressBar),this.powerprogress1=this.node.children[3].children[0].getComponent(cc.ProgressBar),this.lvlabel=this.node.getChildByName("up").children[0].getComponent(cc.Label),this.upmoney=this.node.getChildByName("up").children[1].getComponent(cc.Label),this.buynode=this.node.getChildByName("lock"),this.moneylabel=this.buynode.children[2].children[1].getComponent(cc.Label),this.equipment=this.node.children[4],this.up=this.node.children[5],this.initLabel()},initLabel:function(){var e=this.gunatlas.getSpriteFrame(this.gundata.id);this.img.spriteFrame=e,this.img.node.scale=.7,this.lvgundata=this.gundata.lv[this.lv-1],this.bulletnum.string=this.lvgundata.bullet+"/"+this.lvgundata.maxbullet,this.speedprogress.progress=(5-this.lvgundata.speed)/5,this.lv!=this.gundata.maxlv?this.speedprogress1.progress=(5-this.gundata.lv[this.lv].speed)/5:this.speedprogress1.progress=this.speedprogress.progress,this.powerprogress.progress=this.lvgundata.power/10,this.lv!=this.gundata.maxlv?this.powerprogress1.progress=this.gundata.lv[this.lv].power/10:this.powerprogress1.progress=this.powerprogress.progress,this.lvlabel.string="lv."+this.lv,this.lv==this.gundata.maxlv?this.upmoney.string="MAX":this.upmoney.string=this.lvgundata.upmoney,this.moneylabel.string=this.gundata.money},equipmentgun:function(){"main"==this.gundata.qualities&&(S.shop.armssdata.main=this.gundata.id),"vice"==this.gundata.qualities&&(S.shop.armssdata.vice=this.gundata.id),S.shop.savejson()},upgun:function(){this.lv!=this.gundata.maxlv&&(this.lv++,S.shop.gunlvnum[this.gundata.id]+=1,S.shop.savejson(),this.initLabel())},buygun:function(){S.shop.gunbuystate[this.gundata.id]="yes",S.shop.savejson(),this.buynode.active=!1}}),cc._RF.pop()},{}]},{},["BackgroundMove","bullet1","CarMove","arms0","gundata","Main","Enemy","Player","obstacle","Setting","enemyblood","SSetting","Shop","weapon","setzIndex","test"]);